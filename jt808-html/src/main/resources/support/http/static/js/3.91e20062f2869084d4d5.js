webpackJsonp([3],{"2JxP":function(t,e,i){"use strict";i("TFOu");var a,r,n=i("ow4a"),s=i("d2xA"),o=i("88jF"),l=i.n(o),c=i("4+z/"),d=i.n(c),m=i("iTWp"),h=i.n(m),u=i("Pm2p"),p=i.n(u),f=i("Cf2s"),_=i.n(f),g=i("LHmc"),v=i.n(g),y={},b={name:"LingxCarMap2",props:{carInfo:{type:Object,default:{}}},data:function(){return{carImgArr:[v.a,l.a,d.a,h.a,p.a,_.a,v.a],center:{lng:116.396621,lat:39.916385},zoom:13,lastTid:""}},methods:{syncCenterAndZoom:function(t){var e=t.target.getCenter(),i=e.lng,a=e.lat;this.center.lng=i,this.center.lat=a,this.zoom=t.target.getZoom()},handler:function(t){t.BMap,t.map},getRotation:function(t){return(360-t+360)%360}},created:function(){var t=this;this.callApi({apicode:1102},function(e){t.websocket0x0200URL=e.data.websocket0x0200URL;var i=e.data.centerLatlng.split(",");t.center={lat:i[0]-0,lng:i[1]-0},i.length>2&&(t.zoom=i[2]-0),t.initWebsocket()})},mounted:function(){a=this.$refs.lingxMap.getMap(),y=new n.k("vector").addTo(a),r=new n.h([0,0],{properties:{name:this.carInfo.carno},symbol:[{markerFile:this.carImgArr[2],markerWidth:40,markerHeight:40,markerDx:0,markerDy:20,markerOpacity:1,markerRotation:this.getRotation(this.carInfo.direction)},{textName:"{name}",textSize:14,textDy:-24,textFill:"#004e98",textWeight:"bold"}]}).addTo(y)},destroyed:function(){},watch:{carInfo:function(t){a.setCenter([t.lng_offset-0,t.lat_offset-0]),r.setCoordinates([t.lng_offset-0,t.lat_offset-0]),r.getSymbol()[0].markerFile=this.carImgArr[2],r.getSymbol()[0].markerRotation=this.getRotation(t.direction)},center:function(t,e){}},components:{LingxMap:s.a}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"100%"}},[e("LingxMap",{ref:"lingxMap",attrs:{zoom:this.zoom,center:this.center,issearch:!1,isinfowin:!1}})],1)},staticRenderFns:[]};var x=i("VU/8")(b,w,!1,function(t){i("Ia2i")},null,null);e.a=x.exports},"4+qy":function(t,e){},Bj9I:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__components_LingxCarTree_vue__=__webpack_require__("Zwc7"),__WEBPACK_IMPORTED_MODULE_1__components_LingxVideo_vue__=__webpack_require__("ucdb"),__WEBPACK_IMPORTED_MODULE_2__components_LingxCarInfo_vue__=__webpack_require__("uUjF"),__WEBPACK_IMPORTED_MODULE_3__components_LingxCarMap2_vue__=__webpack_require__("2JxP");__webpack_exports__.a={name:"VideoHistory",data:function(){return{carInfo:{},stimeFormat:"",etimeFormat:"",timeStr:"",car_no:"",value1:0,isOperat:!1,data:[],currentRow:{},form:{car_id:"",tdh:"1",stime:"",etime:""}}},methods:{resetCarInfo:function(){var t=new Date(this.formatDatetime(null,null,this.STIME,null).replace(/-/g,"/")).getTime()+1e3*this.progress1,e=new Date;e.setTime(t);for(var i=e.format("yyyyMMddhhmmss"),a=0;a<this.latlngs.length-1;a++){var r=this.latlngs[a].gpstime,n=this.latlngs[a+1].gpstime;if(i>=r&&i<n){this.latlngs[a].carno=this.car_no,this.carInfo=this.latlngs[a];break}}},stopPlay:function(){this.value1=0,this.progress1=0,this.$refs.player.stop()},startPlay:function(){this.requestPlay(this.currentRow)},uploadFtp:function(){var t=this,e=this.currentRow;this.callApi({apicode:1114,deviceId:this.form.car_id,channel:e.tdh,stime:this.formatDatetime2(this.stimeFormat),etime:this.formatDatetime2(this.etimeFormat),type:e.type,mltype:e.mltype,zcqtype:e.mltype},function(e){1==e.code?t.lgxInfo("正在后台上传FTP文件，请稍候再查询!"):t.lgxInfo2(e.message)})},setRowFormatTime:function(){this.stimeFormat=this.formatDatetime(null,null,this.currentRow.stime,null),this.etimeFormat=this.formatDatetime(null,null,this.currentRow.etime,null),this.timeStr=this.formatSC({stime:this.formatDatetime2(this.stimeFormat),etime:this.formatDatetime2(this.etimeFormat)})},videoEvent:function(t){if(!this.isDrag){this.ctimeP=t;var e=this.ctimeP-this.stimeP;(e>100||e<0||!e)&&(e=0),e>0&&(this.progress1=this.progress1+e,this.value1=parseInt(this.progress1/this.TIME*1e3),this.resetCarInfo()),this.stimeP=t-0}},changecomplete:function(t){this.isDrag=!0,this.progress1=t/1e3*this.TIME,this.isDrag=!1,this.callApi({apicode:1113,deviceId:this.form.car_id,channel:this.form.tdh,stime:this.STIME,time:parseInt(this.progress1)},function(t){})},selectRow:function(t,e,i){this.currentRow=t},requestPlay:function(t,e,i){var a=this,r=new Date(this.formatDatetime(null,null,t.etime,null).replace(/-/g,"/")).getTime()-new Date(this.formatDatetime(null,null,t.stime,null).replace(/-/g,"/")).getTime();this.progress1=0,this.value1=0,this.TIME=r/1e3,this.STIME=t.stime,this.loadLatlngs(this.form.car_id,t.stime,t.etime),this.stopPlay(),this.$refs.player.onLoading(),this.callApi({apicode:1112,deviceId:this.form.car_id,channel:t.tdh,stime:t.stime,etime:t.etime,type:t.type,mltype:t.mltype,zcqtype:t.mltype},function(t){1==t.code?(a.value1=0,a.progress1=0,a.$refs.player.pullVideo(t.pull_address,{tid:a.form.car_id,tdh:a.form.tdh})):a.lgxInfo2(t.message)})},queryVideo:function queryVideo(){var _this=this,stime=this.formatDatetime2(this.form.stime),etime=this.formatDatetime2(this.form.etime),loading=this.$loading({lock:!0,text:"正在加载数据，请稍候...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.callApi({apicode:1111,deviceId:this.form.car_id,channel:this.form.tdh,stime:stime,etime:etime},function(json){loading.close(),0==json.code?(_this.data=eval("("+json.params+")"),_this.currentRow=_this.data[0],_this.lgxInfo("成功加载历史视频数据，请先选择要操作的记录。")):_this.lgxInfo2(json.message)})},loadLatlngs:function(t,e,i){var a=this;this.callApi({apicode:1105,car_id:t,stime:e,etime:i,static:!1,invalid:!1},function(t){a.latlngs=t.data})},test:function(){this.lgxInfo(1)},lingxnodeclick:function(t,e,i){if(0!=t.text.indexOf("CH-"))this.isOperat=!1;else{this.isOperat=!0;var a=t.id.split("_");this.form.car_id=a[0],this.car_no=i.node.parent.data.text,this.form.tdh=a[1],this.clearAll()}},formatDatetime:function(t,e,i,a){return i?i.substring(0,4)+"-"+i.substring(4,6)+"-"+i.substring(6,8)+" "+i.substring(8,10)+":"+i.substring(10,12)+":"+i.substring(12,14):""},formatDatetime2:function(t){return t.replace(/-/g,"").replace(" ","").replace(/:/g,"")},formatCarno:function(){return this.car_no},formatLength:function(t,e,i,a){return parseFloat(i/1024/1024).toFixed(2)+"MB"},formatType:function(t,e,i,a){var r="";switch(i-0){case 0:r="音视频";break;case 1:r="音频";break;case 2:r="视频"}return r},formatMlType:function(t,e,i,a){var r="";switch(i-0){case 1:r="主码流";break;case 2:r="子码流"}return r},formatZcqType:function(t,e,i,a){var r="";switch(i-0){case 1:r="主存储器";break;case 2:r="灾备存储器"}return r},formatSC:function(t,e,i,a){var r=(new Date(this.formatDatetime(null,null,t.etime,null).replace(/-/g,"/")).getTime()-new Date(this.formatDatetime(null,null,t.stime,null).replace(/-/g,"/")).getTime())/1e3,n="";return r/60>0&&(n=n+parseInt(r/60)+"分"),r%60>0&&(n=n+parseInt(r%60)+"秒"),n},initVideo:function(){},clearAll:function(){this.value1=0,this.progress1=0,this.data=[],this.currentRow={}}},watch:{stimeFormat:function(){this.timeStr=this.formatSC({stime:this.formatDatetime2(this.stimeFormat),etime:this.formatDatetime2(this.etimeFormat)})},etimeFormat:function(){this.timeStr=this.formatSC({stime:this.formatDatetime2(this.stimeFormat),etime:this.formatDatetime2(this.etimeFormat)})}},created:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();i<10&&(i="0"+i),a<10&&(a="0"+a),this.form.stime=e+"-"+i+"-"+a+" 00:00:00",this.form.etime=e+"-"+i+"-"+a+" 23:59:59"},mounted:function(){this.initVideo()},components:{LingxCarTree:__WEBPACK_IMPORTED_MODULE_0__components_LingxCarTree_vue__.a,LingxVideo:__WEBPACK_IMPORTED_MODULE_1__components_LingxVideo_vue__.a,LingxCarMap2:__WEBPACK_IMPORTED_MODULE_3__components_LingxCarMap2_vue__.a,LingxCarInfo:__WEBPACK_IMPORTED_MODULE_2__components_LingxCarInfo_vue__.a}}},Ia2i:function(t,e){},a44H:function(t,e){},lDh2:function(t,e){},noOX:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Bj9I"),r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{height:"100%"}},[i("el-aside",{staticStyle:{"background-color":"#fff","border-right":"#c1c5cd 1px solid",overflow:"hidden"},attrs:{width:"260px"}},[i("div",{staticStyle:{height:"70%",overflow:"auto"}},[i("LingxCarTree",{ref:"lingxCarTree",attrs:{isChecked:!1,isVideo:!0},on:{lingxnodeclick:t.lingxnodeclick}})],1),t._v(" "),i("div",{staticStyle:{height:"30%","border-top":"#c1c5cd 1px solid",padding:"10px","background-color":"#ced9e7"}},[i("el-form",{attrs:{"label-width":"70px",size:"mini"}},[i("el-form-item",{attrs:{label:"开始时间"}},[i("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始时间"},model:{value:t.form.stime,callback:function(e){t.$set(t.form,"stime",e)},expression:"form.stime"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"结束时间"}},[i("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束时间"},model:{value:t.form.etime,callback:function(e){t.$set(t.form,"etime",e)},expression:"form.etime"}})],1),t._v(" "),i("el-form-item",{attrs:{"label-width":"50px"}},[i("el-button",{attrs:{type:"primary",disabled:!t.isOperat},on:{click:t.queryVideo}},[t._v("查询视频")]),t._v(" "),i("el-popover",{attrs:{placement:"top-start",width:"300",trigger:"click"}},[i("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini"}},[i("el-form-item",{attrs:{label:"摄像头"}},[i("div",[t._v(t._s(t.car_no)+" CH-"+t._s(t.currentRow.tdh))])]),t._v(" "),i("el-form-item",{attrs:{label:"视频时长"}},[i("div",[t._v(t._s(t.timeStr))])]),t._v(" "),i("el-form-item",{attrs:{label:"起始时间"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:""},model:{value:t.stimeFormat,callback:function(e){t.stimeFormat=e},expression:"stimeFormat"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"截止时间"}},[i("el-date-picker",{attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:""},model:{value:t.etimeFormat,callback:function(e){t.etimeFormat=e},expression:"etimeFormat"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"text-align":"right"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.uploadFtp}},[t._v("立即上传")])],1)],1),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"warning",disabled:!t.isOperat||!t.currentRow.tdh},on:{click:t.setRowFormatTime},slot:"reference"},[t._v("上传FTP")])],1)],1),t._v(" "),i("el-form-item",{attrs:{"label-width":"50px"}},[i("el-button",{attrs:{type:"success",disabled:!t.isOperat||!t.currentRow.tdh},on:{click:t.startPlay}},[t._v("开始播放")]),t._v(" "),i("el-button",{attrs:{type:"danger",disabled:!t.isOperat},on:{click:t.stopPlay}},[t._v("停止播放")])],1)],1)],1)]),t._v(" "),i("el-container",{staticStyle:{width:"100%",height:"100%",margin:"0px",padding:"0px"}},[i("el-main",{staticStyle:{margin:"0px",padding:"0px"}},[i("div",{staticStyle:{width:"100%",height:"100%",margin:"0px",padding:"0px","text-align":"center",position:"relative",overflow:"hidden"},attrs:{id:"container"}},[i("div",{staticStyle:{top:"0px",left:"0px",right:"0px",bottom:"38px",position:"absolute"}},[i("LingxVideo",{ref:"player",attrs:{isToolbar:!1,isDblclickFullScreen:!0},on:{timeupdate:t.videoEvent}})],1),t._v(" "),i("div",{staticStyle:{left:"0px",right:"0px",bottom:"0px",position:"absolute",height:"38px","line-height":"38px","background-color":"#000000",overflow:"hidden"}},[i("el-slider",{attrs:{"show-tooltip":!1,max:1e3},on:{change:t.changecomplete},nativeOn:{mousedown:function(e){t.isDrag=!0},mouseup:function(e){t.isDrag=!1}},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)])]),t._v(" "),i("el-footer",{staticClass:"noselect",staticStyle:{"background-color":"#fff",height:"300px",padding:"0px"}},[i("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{size:"mini",height:"300",stripe:"","highlight-current-row":"",data:t.data},on:{"row-click":t.selectRow,"row-dblclick":t.requestPlay}},[i("el-table-column",{attrs:{label:"",width:"36px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                        "+t._s(e.$index+1)+"\n                    ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"carno",label:"车辆标识",width:"120","show-overflow-tooltip":"",formatter:t.formatCarno}}),t._v(" "),i("el-table-column",{attrs:{prop:"tdh",label:"通道号",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"stime",sortable:"",label:"开始时间",width:"160",formatter:t.formatDatetime}}),t._v(" "),i("el-table-column",{attrs:{prop:"etime",sortable:"",label:"结束时间",width:"160",formatter:t.formatDatetime}}),t._v(" "),i("el-table-column",{attrs:{prop:"status_str",label:"录像时长",width:"100","show-overflow-tooltip":"",formatter:t.formatSC}}),t._v(" "),i("el-table-column",{attrs:{prop:"length",label:"录像大小",width:"100","show-overflow-tooltip":"",formatter:t.formatLength}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",label:"资源类型",formatter:t.formatType,width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"mltype",label:"码流类型",formatter:t.formatMlType,width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"zcqtype",label:"存储类型",formatter:t.formatZcqType,width:"80"}}),t._v(" "),i("el-table-column",{attrs:{prop:"bjzt",sortable:"","show-overflow-tooltip":"",label:"报警信息",width:"100"}})],1)],1)],1),t._v(" "),i("el-aside",{attrs:{width:"300px"}},[i("div",{staticStyle:{width:"100%",height:"50%"}},[i("LingxCarMap2",{attrs:{carInfo:t.carInfo}})],1),t._v(" "),i("div",{staticStyle:{width:"100%",height:"50%"}},[i("LingxCarInfo",{attrs:{carInfo:t.carInfo}})],1)])],1)},staticRenderFns:[]};var n=function(t){i("lDh2")},s=i("VU/8")(a.a,r,!1,n,null,null);e.default=s.exports},uUjF:function(t,e,i){"use strict";var a={name:"LingxCarInfo",props:{carInfo:{type:Object,default:{}}},data:function(){return{}},methods:{formatDatetime:function(t,e,i,a){return i?i.substring(0,4)+"-"+i.substring(4,6)+"-"+i.substring(6,8)+" "+i.substring(8,10)+":"+i.substring(10,12)+":"+i.substring(12,14):""}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"carinfo",staticStyle:{"font-size":"14px","line-height":"28px","margin-top":"10px"}},[i("table",{staticStyle:{"margin-top":"5px"},attrs:{width:"100%",border:"0",cellSpacing:"0",cellPadding:"0"}},[i("tr",{staticStyle:{"background-color":"#f9f9f9"}},[i("td",{staticStyle:{color:"#999999",width:"64px"}},[t._v("车辆标识:")]),t._v(" "),i("td",[t._v(t._s(t.carInfo.carno||"无"))])]),t._v(" "),i("tr",{staticStyle:{"background-color":"#f9f9f9"}},[i("td",{staticStyle:{color:"#999999"}},[t._v("行驶速度:")]),t._v(" "),i("td",[t._v(t._s(t.carInfo.speed||"0")+" KM/H")])]),t._v(" "),i("tr",[i("td",{staticStyle:{color:"#999999"}},[t._v("定位时间:")]),t._v(" "),i("td",[t._v(t._s(t.formatDatetime(1,1,t.carInfo.gpstime,1)||"无"))])]),t._v(" "),i("tr",{staticStyle:{"background-color":"#f9f9f9"}},[i("td",{staticStyle:{color:"#999999"}},[t._v("车辆状态:")]),t._v(" "),i("td",{attrs:{title:t.carInfo.status_str}},[t._v(t._s(t.carInfo.status_str||"无"))])]),t._v(" "),i("tr",[i("td",{staticStyle:{color:"#999999"}},[t._v("当前告警:")]),t._v(" "),"无"==(t.carInfo.alarm_str||"无")?i("td",[t._v(t._s(t.carInfo.alarm_str||"无"))]):t._e(),t._v(" "),"无"!=t.carInfo.alarm_str?i("td",{staticStyle:{color:"red"},attrs:{title:t.carInfo.alarm_str}},[t._v(t._s(t.carInfo.alarm_str))]):t._e()]),t._v(" "),i("tr",{staticStyle:{"background-color":"#f9f9f9"}},[i("td",{staticStyle:{color:"#999999"},attrs:{valign:"top"}},[t._v("当前地址:")]),t._v(" "),i("td",{attrs:{title:t.carInfo.address}},[t._v(t._s(t.carInfo.address||"无"))])])])])},staticRenderFns:[]};var n=i("VU/8")(a,r,!1,function(t){i("4+qy")},"data-v-4fcaea70",null);e.a=n.exports},ucdb:function(t,e,i){"use strict";var a=i("mtSL"),r=i.n(a),n={name:"LingxVideo",props:{name:{type:String,default:""},mltype:{type:Number,default:1},isToolbar:{type:Boolean,default:!0},isDblclickFullScreen:{type:Boolean,default:!1}},data:function(){return{deviceId:"",deviceName:"",channelStr:"",networkSpeed:"",playerStateTips:"",loading:!1,resolvingPower:{width:0,height:0},isPlaying:!1,isMute:!0,isFullScreen:!1,channel:1}},methods:{onLoading:function(){this.loading=!0},onDbClick:function(t){t.stopPropagation(),t.preventDefault(),this.isDblclickFullScreen&&this.handleFullScreen()},switchVideoPlayState:function(){this.isPlaying?this.stop():this.start()},handlePlayerMute:function(){this.isMute=!this.isMute},flv_photograph:function(){if(this.isPlaying){var t=document.createElement("a"),e=Date.now(),i=this.deviceName+"-"+this.channel+"-"+e;t.setAttribute("href",this.htmlToImage()),t.setAttribute("download",i),t.click()}else this.lgxInfo2("操作失败，未播放视频。")},htmlToImage:function(){var t=document.createElement("canvas");return t.width=this.resolvingPower.width,t.height=this.resolvingPower.height,t.getContext?(t.getContext("2d").drawImage(this.$refs.player,0,0,this.resolvingPower.width,this.resolvingPower.height),t.toDataURL("image/png")):(this.lgxInfo2("不支持canvas"),!1)},handleFullScreen:function(){var t=this.$refs.player;t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullScreen?t.msRequestFullScreen():t.RequestFullScreen&&t.RequestFullScreen()},play:function(t){null==this.player?(this.deviceId=t.carid,this.deviceName=t.carno,this.channel=t.tdh,this.channelStr=t.tdhStr,this.start()):(this.stop(),this.deviceId=t.carid,this.deviceName=t.carno,this.channel=t.tdh,this.channelStr=t.tdhStr,setTimeout(this.start,100))},start:function(){var t=this;this.deviceId?(this.loading=!0,this.callApi({apicode:1110,deviceId:this.deviceId,channel:this.channel,mltype:this.mltype},function(e){if(-1!=e.code){var i=e.pull_address;t.pullVideo(i),e.pull_address2}else t.lgxInfo2(e.message)})):this.lgxInfo2("操作失败，请先在左侧点击要播放的视频。")},stop:function(){null!=this.player&&(this.player.pause(),this.player.unload(),this.player.detachMediaElement(),this.player.destroy(),this.player=null,this.loading=!1,this.isPlaying=!1,this.networkSpeed=""),this.callApi({apicode:1110,deviceId:this.deviceId,channel:this.channel,mltype:this.mltype,stop:1},function(t){})},pullVideo:function(t,e){e&&(this.deviceId=e.tid,this.channel=e.tdh);var i=this;if(r.a.getFeatureList().mseLivePlayback){var a=this.$refs.player;this.player=r.a.createPlayer({type:"mse",isLive:!0,hasAudio:!1,hasVideo:!0,url:this.addParams(t),config:{autoCleanupSourceBuffer:!0}},{enableStashBuffer:!1,fixAudioTimestampGap:!1,autoCleanupSourceBuffer:!0,liveBufferLatencyChasing:!1}),this.player.attachMediaElement(a),this.player.load(),setTimeout(function(){i.player.play()},100),this.player.on(r.a.Events.STATISTICS_INFO,function(t){i.networkSpeed=t.speed.toFixed(0)+"KB/S"}),this.player.on(r.a.Events.ERROR,function(t){i.stop()})}},addEventListenerToPlayer:function(){var t=this.$refs.player,e=this;t.addEventListener("loadedmetadata",function(t){e.resolvingPower={width:t.target.videoWidth,height:t.target.videoHeight},e.loading=!1}),t.addEventListener("timeupdate",function(){var i;i=Math.floor(t.currentTime),e.$emit("timeupdate",i)},!1),t.addEventListener("error",function(){console.log("element video error event.")}),t.addEventListener("play",function(){e.isPlaying=!0}),t.addEventListener("playing",function(){}),t.addEventListener("pause",function(){console.log("element video pause event.")}),t.addEventListener("waiting",function(){})},addParams:function(t){return t}},mounted:function(){this.addEventListenerToPlayer()}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"my-video-wrapper",staticStyle:{padding:"0px",margin:"0px"}},[t.isToolbar?t._e():i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"player-wraper",staticStyle:{bottom:"0px"},attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"},on:{dblclick:t.onDbClick}},[i("video",{ref:"player"})]),t._v(" "),t.isToolbar?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"player-wraper",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)"},on:{dblclick:t.onDbClick}},[i("video",{ref:"player"})]):t._e(),t._v(" "),t.isToolbar?i("div",{staticClass:"my-video-control"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.name,expression:"name"}],staticClass:"device-states"},[i("span",{domProps:{textContent:t._s(t.name)}}),t._v(" "),i("span",{domProps:{textContent:t._s(t.deviceName)}}),t._v(" "),i("span",{domProps:{textContent:t._s(t.channelStr)}}),t._v(" "),i("span",{domProps:{textContent:t._s(t.networkSpeed)}}),t._v(" "),i("video",{ref:"audio1",staticStyle:{display:"none"}}),t._v(" "),i("video",{ref:"audio2",staticStyle:{display:"none"}})]),t._v(" "),i("div",{staticClass:"video-controls"},[i("span",{on:{click:t.switchVideoPlayState}},[i("i",{staticClass:"icon iconfont ",class:{"icon-play":!t.isPlaying,"icon-stop":t.isPlaying}})]),t._v(" "),i("span",{on:{click:t.handlePlayerMute}},[i("i",{staticClass:"icon iconfont",class:{"icon-Mute":!t.isMute,"icon-Volume":t.isMute}})]),t._v(" "),i("span",{on:{click:t.flv_photograph}},[i("i",{staticClass:"icon iconfont icon-camera-fill"})]),t._v(" "),i("span",{on:{click:t.handleFullScreen}},[i("i",{staticClass:"icon iconfont",class:{"icon-quanping":!t.isFullScreen,"icon-tuichuquanping":t.isFullScreen}})])])]):t._e()])},staticRenderFns:[]};var o=i("VU/8")(n,s,!1,function(t){i("a44H")},"data-v-69424fb7",null);e.a=o.exports}});