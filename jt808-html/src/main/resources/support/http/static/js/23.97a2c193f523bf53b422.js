webpackJsonp([23],{"4GbD":function(t,e){},SiKE:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"OfflineData",data:function(){return{text:"",tableData:[],pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()},shortcuts:[{text:"三天前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-2592e5),t.$emit("pick",e)}},{text:"七天前",onClick:function(t){new Date;var e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",e)}},{text:"十五天前",onClick:function(t){var e=new Date;e.setTime(e.getTime()-1296e6),t.$emit("pick",e)}},{text:"一个月前",onClick:function(t){var e=new Date;e.setMonth(e.getMonth()-1),t.$emit("pick",e)}}]}}},methods:{excel:function(){!function(t,e,i){for(var a="",l="",r=0;r<t.length;r++)t[r].title&&(l+=t[r].title+",");l=l.slice(0,-1),a+=l+"\r\n";for(var r=0;r<e.length;r++){for(var l="",o=0;o<t.length;o++)t[o].title&&(t[o].formater||(t[o].formater=n),l+='"'+t[o].formater("","",e[r][t[o].field]?e[r][t[o].field]:"")+'"\t,');l.slice(0,l.length-1),a+=l+"\r\n"}if(""==a)return void alert("Invalid data");var i=i,s=new Blob(["\ufeff"+a],{type:"text/csv"});if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(a,i+".csv");else{var c=document.createElement("a");c.href=URL.createObjectURL(s),c.style="visibility:hidden",c.download=i+".csv",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}([{title:"车牌号码",field:"carno"},{title:"隶属车队",field:"group"},{title:"终端ID",field:"id"},{title:"离线时间",field:"gpstime",formater:this.formatDatetime},{title:"离线时长",field:"time1"},{title:"离线地址",field:"address"}],this.tableData,"离线统计")},searchGrid:function(){var t=this;this.callApi({apicode:1124,text:this.text},function(e){t.tableData=e.data})},formatDatetime:function(t,e,i,a){return i?i.substring(0,4)+"-"+i.substring(4,6)+"-"+i.substring(6,8)+" "+i.substring(8,10)+":"+i.substring(10,12)+":"+i.substring(12,14):""}},mounted:function(){this.searchGrid()}};function n(t,e,i){return i}var l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-container",{staticStyle:{height:"100%"}},[i("el-header",{staticStyle:{padding:"0px"},attrs:{height:"42"}},[i("div",{staticStyle:{margin:"5px"}},[i("span",[i("el-date-picker",{attrs:{"value-format":"timestamp",type:"date",size:"small",placeholder:"选择日期","picker-options":t.pickerOptions},on:{change:t.searchGrid},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),i("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-search"},on:{click:t.searchGrid}},[t._v("查询")]),t._v(" "),i("el-button",{attrs:{icon:"el-icon-notebook-2",size:"small",type:"success",plain:""},on:{click:t.excel}},[t._v("导出")])],1)]),t._v(" "),i("el-main",{staticStyle:{margin:"0px",padding:"0px"}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","highlight-current-row":"",size:"mini",height:"100%"}},[i("el-table-column",{attrs:{label:"",width:"42px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n               "+t._s(e.$index+1)+"\n           ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"carno",label:"车牌号码",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"group",label:"隶属车队",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{prop:"id",label:"终端ID",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"gpstime",label:"离线时间",width:"180",formatter:t.formatDatetime}}),t._v(" "),i("el-table-column",{attrs:{prop:"time1",label:"离线时长",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"address",label:"离线地址","show-overflow-tooltip":""}})],1)],1)],1)},staticRenderFns:[]};var r=i("VU/8")(a,l,!1,function(t){i("4GbD")},null,null);e.default=r.exports}});