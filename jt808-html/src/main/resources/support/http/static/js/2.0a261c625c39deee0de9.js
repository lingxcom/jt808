webpackJsonp([2,62,67,71,73,75,87,88],{DRYY:function(e,t){},JbVm:function(e,t){},M7NE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),l=i.n(a),o={name:"LingxEditorCascadeSetting",data:function(){return{ecode:"",id:"",prop:"",cindex:0,querys:[{name:"用户管理_示例",entity:"tlingx_user",method:"grid_cascade",rule:"tlingx_userorg"}],dialogVisible:!1,form:{}}},methods:{openDialog:function(e){this.ecode=e.ecode,this.id=e.id,this.prop=e.prop,e.value&&"["==e.value.charAt(0)&&(this.querys=JSON.parse(e.value)),this.form=this.querys[this.cindex],this.dialogVisible=!0},dialogSubmit:function(){var e=this,t=l()(this.querys);this.callApi({apicode:9008,code:this.ecode,id:this.id,prop:this.prop,value:t},function(t){e.lgxInfo(t.message),1==t.code&&(e.dialogVisible=!1)})},removeField:function(e){this.querys.splice(e,1),this.setIndex(0)},setIndex:function(e){this.cindex=e,this.form=this.querys[e]},addField:function(){this.querys.push({name:"用户管理_示例",entity:"tlingx_user",method:"grid_cascade",rule:"tlingx_userorg"}),this.form=this.querys[this.querys.length-1]},swapItems:function(e){var t=e-1;if(!(t<0)){var i=this.querys;i[e]=i.splice(t,1,i[e])[0]}}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"级联设置",visible:e.dialogVisible,width:"720px",height:"480px","close-on-click-modal":!1,"show-close":!0,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticStyle:{height:"420px",overflow:"auto"}},[i("el-row",[i("el-col",{staticStyle:{padding:"0p"},attrs:{span:8}},[i("ul",[e._l(e.querys,function(t,a){return i("li",{staticStyle:{"list-style-type":"none",height:"42px","line-height":"42px"}},[i("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"success",underline:!1},on:{click:function(t){return e.swapItems(a)}}},[e._v("上移")]),e._v(" "),e.cindex!=a?i("el-button",{staticStyle:{width:"140px"},attrs:{size:"small"},on:{click:function(t){return e.setIndex(a)}}},[e._v(e._s(a+1)+". "+e._s(t.name))]):e._e(),e._v(" "),e.cindex==a?i("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return e.setIndex(a)}}},[e._v(e._s(a+1)+". "+e._s(t.name))]):e._e(),e._v(" "),i("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"danger",underline:!1},on:{click:function(t){return e.removeField(a)}}},[e._v("删除")])],1)}),e._v(" "),i("li",{staticStyle:{"list-style-type":"none",height:"42px","line-height":"42px","text-align":"center"}},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.addField}},[e._v("添加级联")])],1)],2)]),e._v(" "),i("el-col",{staticStyle:{padding:"10px"},attrs:{span:16}},[i("el-form",{ref:"form",attrs:{size:"small",model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"显示名称"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模型代码"}},[i("el-input",{model:{value:e.form.entity,callback:function(t){e.$set(e.form,"entity",t)},expression:"form.entity"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"操作代码"}},[i("el-input",{model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"级联中介"}},[i("el-input",{model:{value:e.form.rule,callback:function(t){e.$set(e.form,"rule",t)},expression:"form.rule"}})],1)],1),e._v(" "),i("div",{staticStyle:{"font-size":"14px",color:"#999","line-height":"28px"}},[e._v("\n  说明："),i("br"),e._v("\n  一级级级不需要填级联中介。级联中介不会显示在界面上"),i("br"),e._v("\n  操作代码一般填写grid或grid_cascade\n\n\n")])],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.dialogSubmit}},[e._v("提 交")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var s=i("VU/8")(o,n,!1,function(e){i("tw3b")},null,null);t.default=s.exports},R4Bv:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),l=i.n(a),o={name:"AuthDataDialog",data:function(){return{dialogVisible1:!1,list:[{type:"op",op:"and"}],left:[],op:[],right:[],id:"",prop:""}},methods:{ok:function(){var e=this,t=l()(this.list);this.callApi({apicode:9008,code:this.ecode,id:this.id,prop:this.prop,value:t},function(t){e.lgxInfo(t.message),1==t.code&&(e.dialogVisible1=!1)})},openDialog:function(e){var t=this;this.list=[{type:"op",op:"and"}],this.ecode=e.ecode,this.id=e.id,this.prop=e.prop,e.value&&"["==e.value.charAt(0)&&(this.list=JSON.parse(e.value)),this.callApi({apicode:9024,ecode:this.ecode},function(e){t.left=e.left,t.right=e.right}),this.callApi({apicode:8002,ecode:"tlingx_option",mcode:"items",code:"LJYSF"},function(e){t.op=e.data}),this.dialogVisible1=!0},closeDialog:function(){this.dialogVisible1=!1},delGroup:function(){this.lgxInfo2("最外层分组不可以删除！")}},components:{AuthDataGroup:i("eW9y").default}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.dialogVisible1?i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"数据权限设置",visible:e.dialogVisible1,width:"720px",height:"480px","show-close":"","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[i("div",{staticStyle:{height:"380px",overflow:"auto","padding-top":"2px"}},[i("AuthDataGroup",{attrs:{parentIndex:0,left:e.left,op:e.op,right:e.right},on:{delgroup:e.delGroup},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.ok}},[e._v("确 定")]),e._v(" "),i("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("关 闭")])],1)]):e._e()},staticRenderFns:[]};var s=i("VU/8")(o,n,!1,function(e){i("DRYY")},null,null);t.default=s.exports},Rjef:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-table el-table--fit el-table--striped el-table--border el-table--scrollable-x el-table--enable-row-hover el-table--enable-row-transition"},[e._m(0),e._v(" "),i("div",[i("table",{staticClass:"el-table el-table__body",staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[e._m(1),e._v(" "),i("tbody",e._l(e.propData,function(t,a){return i("tr",{staticClass:"el-table__row"},[i("td",{staticClass:"el-table_10_column_19   el-table__cell",attrs:{colspan:"1"}},[i("div",{staticClass:"cell"},[e._v(e._s(t.name))])]),e._v(" "),i("td",{staticClass:"el-table_10_column_20   el-table__cell",staticStyle:{padding:"0px"},attrs:{colspan:"1"}},[t.isEdit&&"display"!=t.editor?e._e():i("div",{staticClass:"cell",staticStyle:{width:"100%",height:"32px"},on:{click:function(i){return e.cellClick(t)}}},[e._v(e._s(t.value))]),e._v(" "),t.isEdit&&"text"==t.editor?i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],ref:"iptID_"+t.id,refInFor:!0,staticClass:"el-input__inner",attrs:{spellcheck:"false",autocomplete:"off"},domProps:{value:t.value},on:{blur:function(i){t.isEdit=!1,e.save(t)},keypress:function(i){return e.keypress(arguments,t)},input:function(i){i.target.composing||e.$set(t,"value",i.target.value)}}}):e._e(),e._v(" "),t.isEdit&&"boolean"==t.editor?i("el-select",{ref:"iptID_"+t.id,refInFor:!0,staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择"},on:{change:function(i){t.isEdit=!1,e.save(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}},[i("el-option",{key:"true",attrs:{label:"true",value:"true"}}),e._v(" "),i("el-option",{key:"false",attrs:{label:"false",value:"false"}})],1):e._e(),e._v(" "),t.isEdit&&"combobox"==t.editor?i("el-select",{ref:"iptID_"+t.id,refInFor:!0,staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:function(i){t.isEdit=!1,e.save(t)}},model:{value:t.value,callback:function(i){e.$set(t,"value",i)},expression:"item.value"}},e._l(t.items,function(e,t){return i("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})}),1):e._e()],1)])}),0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"el-table__header-wrapper"},[t("table",{staticClass:"el-table__header",staticStyle:{width:"100%"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[t("colgroup",[t("col",{attrs:{name:"el-table_1_column_1",width:"150"}}),this._v(" "),t("col",{attrs:{name:"el-table_1_column_2",width:"300"}})]),this._v(" "),t("thead",[t("tr",[t("th",{staticClass:"el-table_1_column_1     is-leaf is-sortable el-table__cell",attrs:{colspan:"1"}},[t("div",{staticClass:"cell"},[this._v("属性名称")])]),this._v(" "),t("th",{staticClass:"el-table_1_column_2     is-leaf is-sortable el-table__cell",attrs:{colspan:"1"}},[t("div",{staticClass:"cell"},[this._v("属性值")])])])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("colgroup",[t("col",{attrs:{name:"el-table_1_column_1",width:"150"}}),this._v(" "),t("col",{attrs:{name:"el-table_1_column_2",width:"300"}})])}]};var l=i("VU/8")({name:"LingxProperties",props:["lingxHeight"],data:function(){return{propData:[],code:"",id:""}},methods:{reloadData:function(e,t){var i=this;i.code=e,i.id=t,this.callApi({apicode:9007,code:e,id:t},function(e){i.propData=e.data})},keypress:function(e,t){13==(e=e[0]).keyCode&&(t.isEdit=!1)},cellClick:function(e){this.closeAllEdit(),e.isEdit=!0,e.oldValue=e.value,this.$nextTick(function(){this.$refs["iptID_"+e.id][0].focus()})},save:function(e){var t=this;e.oldValue!=e.value&&(this.$emit("updatePropties",e),this.callApi({apicode:9008,code:this.code,id:this.id,prop:e.id,value:e.value},function(e){t.lgxInfo(e.message)}))},closeAllEdit:function(){this.propData.forEach(function(e,t){e.isEdit=!1})}}},a,!1,function(e){i("wh97")},"data-v-a16ca72c",null);t.default=l.exports},SmoL:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("mvHQ"),l=i.n(a),o={name:"LingxEditorQuerySetting",data:function(){return{ecode:"",id:"",prop:"",cindex:0,querys:[{field:"cx_name",name:"名称_示例",editor:"textfield",where:" and name like '%${cx_name}%' "}],dialogVisible:!1,form:{}}},methods:{openDialog:function(e){this.querys=[{field:"cx_name",name:"名称_示例",editor:"textfield",where:" and name like '%${cx_name}%' "}],this.ecode=e.ecode,this.id=e.id,this.prop=e.prop,e.value&&"["==e.value.charAt(0)&&(this.querys=JSON.parse(e.value)),this.form=this.querys[this.cindex],this.dialogVisible=!0},dialogSubmit:function(){var e=this,t=l()(this.querys);this.callApi({apicode:9008,code:this.ecode,id:this.id,prop:this.prop,value:t},function(t){e.lgxInfo(t.message),1==t.code&&(e.dialogVisible=!1)})},removeField:function(e){this.querys.splice(e,1),this.setIndex(0)},setIndex:function(e){this.cindex=e,this.form=this.querys[e]},addField:function(){this.querys.push({field:"cx_name",name:"名称_示例",editor:"textfield",where:" and name like '%${cx_name}%' "}),this.form=this.querys[this.querys.length-1]},swapItems:function(e){var t=e-1;if(!(t<0)){var i=this.querys;i[e]=i.splice(t,1,i[e])[0]}}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"查询设置",visible:e.dialogVisible,width:"720px",height:"480px","close-on-click-modal":!1,"show-close":!0,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticStyle:{height:"420px",overflow:"auto"}},[i("el-row",[i("el-col",{staticStyle:{padding:"0px"},attrs:{span:8}},[i("ul",[e._l(e.querys,function(t,a){return i("li",{staticStyle:{"list-style-type":"none",height:"42px","line-height":"42px"}},[i("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"success",underline:!1},on:{click:function(t){return e.swapItems(a)}}},[e._v("上移")]),e._v(" "),e.cindex!=a?i("el-button",{staticStyle:{width:"140px"},attrs:{size:"small"},on:{click:function(t){return e.setIndex(a)}}},[e._v(e._s(a+1)+". "+e._s(t.name)+" ["+e._s(t.field)+"]")]):e._e(),e._v(" "),e.cindex==a?i("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return e.setIndex(a)}}},[e._v(e._s(a+1)+". "+e._s(t.name)+" ["+e._s(t.field)+"]")]):e._e(),e._v(" "),i("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"danger",underline:!1},on:{click:function(t){return e.removeField(a)}}},[e._v("删除")])],1)}),e._v(" "),i("li",{staticStyle:{"list-style-type":"none",height:"42px","line-height":"42px","text-align":"center"}},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.addField}},[e._v("添加字段")])],1)],2)]),e._v(" "),i("el-col",{staticStyle:{padding:"10px"},attrs:{span:16}},[i("el-form",{ref:"form",attrs:{size:"small",model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"字段代码"}},[i("el-input",{model:{value:e.form.field,callback:function(t){e.$set(e.form,"field",t)},expression:"form.field"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"显示名称"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"输入控件"}},[i("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.editor,callback:function(t){e.$set(e.form,"editor",t)},expression:"form.editor"}},[i("el-option",{attrs:{label:"文本输入框",value:"textfield"}}),e._v(" "),i("el-option",{attrs:{label:"日期选择框",value:"datefield"}}),e._v(" "),i("el-option",{attrs:{label:"字典选项框",value:"combobox"}})],1)],1),e._v(" "),"combobox"==e.form.editor?i("el-form-item",{attrs:{label:"字典代码"}},[i("el-input",{model:{value:e.form.optioncode,callback:function(t){e.$set(e.form,"optioncode",t)},expression:"form.optioncode"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"查询语句"}},[i("el-input",{model:{value:e.form.where,callback:function(t){e.$set(e.form,"where",t)},expression:"form.where"}})],1)],1),e._v(" "),i("div",{staticStyle:{"font-size":"14px",color:"#999","line-height":"28px"}},[e._v("\n  说明："),i("br"),e._v("\n  字段代码尽量不要与模型里的属性字段重复，默认以cx_做为前缀。"),i("br"),e._v("\n  当输入控件为日期时，在SQL语句中的日期时间字段，加入时间；例:and etime>'${cx_stime}235959'。"),i("br"),e._v("\n  字典选项框中的字典代码，请到菜单系统字典中查找对应的字典代码。\n\n")])],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.dialogSubmit}},[e._v("提 交")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var s=i("VU/8")(o,n,!1,function(e){i("JbVm")},null,null);t.default=s.exports},WmFn:function(e,t){},arOe:function(e,t){},bOTX:function(e,t){},eE4O:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=i("bOdI"),o=i.n(l),n=i("+Yga"),s=i("Rjef"),r=i("SmoL"),c=i("M7NE"),d=i("qHkp"),u=i("v+f0"),h=i("R4Bv"),p=i("yASp"),f=(a={name:"LingxEditor",data:function(){return{searchText:"",rightData:{},menuTableVisible:!1,menuTreeVisible:!1,mainHeight:10,maxHeight:0,currentCode:"",currentTreeNodeData:{},currentRow:{},modelData:[],treeData:[],defaultCheckedKeys:[],treeExpandedIds:[],defaultProps:{children:"children",label:"label"}}},created:function(){this.maxHeight=$(window).height()-90},mounted:function(){this.mainHeight=this.$refs.mainContainer.$el.offsetHeight},methods:{submitFuncMenu:function(){if(confirm("是否提交功能菜单?")){var e=this;this.callApi({apicode:9029},function(t){e.lgxInfo(t.message)})}},createCloneModel:function(){var e=this,t=this;this.$prompt("克隆"+this.currentCode+"，请输入新模型代码,模型名称：","",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;t.callApi({apicode:9025,ecode:e.currentCode,clone:a},function(e){t.lgxInfo(e.message)})}).catch(function(){e.$message({type:"info",message:"取消输入"})})},openConfigDialog:function(){this.$refs.configSettingDialog.show()},copyNode:function(){var e=this;this.callApi({apicode:9022,ecode:this.currentCode,ids:this.currentTreeNodeData.id},function(t){e.lgxInfo(t.message)})},parseNode:function(){var e=this;this.callApi({apicode:9023,ecode:this.currentCode,id:this.currentTreeNodeData.id},function(t){e.lgxInfo(t.message)})},nodeDrop:function(e,t,i){var a=this;this.callApi({apicode:9021,ecode:this.currentCode,node1:e.data.id,node2:t.data.id,type:i},function(e){a.lgxInfo(e.message)})},allowDrop:function(e,t,i){return e.parent.id==t.parent.id&&("prev"==i||"next"==i)},allowDrag:function(e){return"Field"==e.data.modelType||"Method"==e.data.modelType},openAuthFuncDialog:function(){this.$refs.authFuncDialog.openDialog(this.currentCode)},openAuthDataDialog:function(){var e=this;"config"==this.currentTreeNodeData.code?this.callApi({apicode:9007,code:this.currentCode,id:this.currentTreeNodeData.id},function(t){for(var i=t.data,a="",l=0;l<i.length;l++){var o=i[l];"dataAuth"==o.id&&(a=o.value)}e.$refs.authDataDialog.openDialog({ecode:e.currentCode,id:e.currentTreeNodeData.id,prop:"dataAuth",value:a})}):this.lgxInfo("请选择“常规配置”再进行查询设置！")},leftEdit:function(){this.$refs.lingxEditDialog.openDialog({title:"模型信息 - 编辑",ecode:"tlingx_entity",mcode:"edit",id:this.currentRow.id})},leftSubmit:function(){var e=this;this.callApi({apicode:9028,ecode:this.currentRow.code},function(t){e.lgxInfo(t.message)})},openPreviewModelDialog:function(){this.$refs.previewModelDialog.openDialog(this.currentCode)},openCascadeSettingDialog:function(){var e=this;"config"==this.currentTreeNodeData.code?this.callApi({apicode:9007,code:this.currentCode,id:this.currentTreeNodeData.id},function(t){for(var i=t.data,a="",l=0;l<i.length;l++){var o=i[l];"cascade"==o.id&&(a=o.value)}e.$refs.editorCascadeSetting.openDialog({ecode:e.currentCode,id:e.currentTreeNodeData.id,prop:"cascade",value:a})}):this.lgxInfo("请选择“常规配置”再进行查询设置！")},openQuerySettingDialog:function(){var e=this;"config"==this.currentTreeNodeData.code?this.callApi({apicode:9007,code:this.currentCode,id:this.currentTreeNodeData.id},function(t){for(var i=t.data,a="",l=0;l<i.length;l++){var o=i[l];"queryField"==o.id&&(a=o.value)}e.$refs.editorQuerySetting.openDialog({ecode:e.currentCode,id:e.currentTreeNodeData.id,prop:"queryField",value:a})}):this.lgxInfo("请选择“常规配置”再进行查询设置！")},searchModel:function(){this.reloadTableData()},updateTreeNode:function(e){"code"==e.id?this.currentTreeNodeData.code=e.value:"name"==e.id&&(this.currentTreeNodeData.name=e.value),this.currentTreeNodeData.label=(this.currentTreeNodeData.name||"")+" ["+(this.currentTreeNodeData.code||"")+"]"},createModelDialog:function(){var e=this;i.e(44).then(i.bind(null,"RN9f")).then(function(t){e.mountCmp.call(e,t,{title:"创建模型 - 数据库表"},document.querySelector("body"))})},handleCurrentChange:function(e){var t=this;e&&(this.currentCode=e.code,this.currentRow=e,this.callApi({apicode:9006,code:e.code},function(e){t.treeData=e.data,t.treeExpandedIds=e.expandedIds,t.defaultCheckedKeys=e.defaultCheckedKeys,t.$refs.lingxProperties.reloadData(t.currentCode,e.defaultCheckedKeys)}))},contextmenuTable:function(e,t,i){this.$refs.leftTable.setCurrentRow(e),this.menuTableVisible=!0,this.menuTreeVisible=!1;var a=document.querySelector("#menuTable");i.preventDefault(),a.style.left=i.clientX+"px",a.style.top=i.clientY+"px",document.addEventListener("click",this.menuTableClose)},menuTableClose:function(){this.menuTableVisible=!1,document.removeEventListener("click",this.menuTableClose)},menuTreeClose:function(){this.menuTreeVisible=!1,document.removeEventListener("click",this.menuTreeClose)},contextmenuTree:function(e,t,i,a){this.$refs.tree1.setCurrentKey(t.id),this.rightData=t,this.currentTreeNodeData=t,this.menuTreeVisible=!0,this.menuTableVisible=!1;var l=document.querySelector("#menuTree");e.preventDefault(),l.style.left=e.clientX+"px",l.style.top=e.clientY+"px",document.addEventListener("click",this.menuTreeClose)},removeTree:function(){var e=this;this.callApi({apicode:9011,code:this.currentCode,id:this.rightData.id},function(t){e.lgxInfo(t.message),e.$refs.tree1.remove(e.rightData.id)})},reloadTree:function(){var e=this;this.callApi({apicode:9006,code:this.currentCode},function(t){e.treeData=t.data})},handleNodeClick:function(e){var t=this;this.currentTreeNodeData=e,"JavaScript代码"==e.label&&i.e(55).then(i.bind(null,"WoNE")).then(function(i){t.mountCmp.call(t,i,{title:"编辑代码",code:t.currentCode,id:e.id},document.querySelector("body"))}),this.menuTreeClose(),this.$refs.lingxProperties.reloadData(this.currentCode,e.id)},renderContent:function(e,t){var i=t.node,a=t.data;t.store;return e("span",[e("i",{class:a.icon}),e("span",[" ",i.label])])},addField:function(){var e=this;this.callApi({apicode:9010,code:this.currentCode,id:this.rightData.id,type:"field"},function(t){e.lgxInfo(t.message),e.$refs.tree1.append(t.data,e.rightData.id)})},addMethod:function(){var e=this;this.callApi({apicode:9010,code:this.currentCode,id:this.rightData.id,type:"method"},function(t){e.lgxInfo(t.message),e.$refs.tree1.append(t.data,e.rightData.id)})},removeModel:function(){var e=this;"delete"==prompt("删除模型:"+this.currentCode+"，确认请输入delete")&&this.callApi({apicode:9014,code:this.currentCode},function(t){e.lgxInfo(t.message),e.reloadTableData()})},reloadTableData:function(){var e=this;this.callApi({apicode:9002,searchText:this.searchText},function(t){e.modelData=t.data})}}},o()(a,"mounted",function(){var e=this;this.callApi({apicode:9002},function(t){e.modelData=t.data})}),o()(a,"computed",{isShowTree:function(){return this.treeData.length&&this.defaultCheckedKeys}}),o()(a,"watch",{modelData:function(){this.$nextTick(function(){this.$refs.leftTable.setCurrentRow(this.modelData[0])})}}),o()(a,"components",{LingxProperties:s.default,EditorQuerySetting:r.default,EditorCascadeSetting:c.default,PreviewModelDialog:d.default,LingxEditDialog:n.default,AuthFuncDialog:u.default,AuthDataDialog:h.default,ConfigSettingDialog:p.default}),a),m={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",{ref:"mainContainer",staticStyle:{height:"100%"}},[i("el-header",[i("el-input",{staticStyle:{width:"136px"},attrs:{spellcheck:"false",size:"mini",clearable:!0,placeholder:"模型代码/名称"},nativeOn:{keyup:function(t){return t.type.indexOf("key")||13===t.keyCode?e.searchModel():null}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-search",circle:""},on:{click:e.searchModel}}),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.createModelDialog}},[e._v("创建模型")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.createCloneModel}},[e._v("克隆模型")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:e.openAuthDataDialog}},[e._v("数据权限")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:e.openAuthFuncDialog}},[e._v("功能权限")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:e.openQuerySettingDialog}},[e._v("查询配置")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:e.openCascadeSettingDialog}},[e._v("级联配置")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.openPreviewModelDialog}},[e._v("模型预览")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:e.openConfigDialog}},[e._v("系统参数")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:e.submitFuncMenu}},[e._v("提交功能菜单")])],1),e._v(" "),i("el-container",[i("el-aside",{staticStyle:{overflow:"hidden"},attrs:{width:"300px"}},[i("el-table",{ref:"leftTable",staticStyle:{width:"100%"},attrs:{data:e.modelData,size:"small",stripe:"",border:"","highlight-current-row":"","default-sort":{prop:"id",order:"desc"},height:"100%","max-height":e.maxHeight},on:{"current-change":e.handleCurrentChange,"row-contextmenu":e.contextmenuTable}},[i("el-table-column",{attrs:{prop:"code",label:"模型代码",sortable:"","show-overflow-tooltip":"",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"模型名称",sortable:"","show-overflow-tooltip":"",width:"148"}})],1)],1),e._v(" "),i("el-main",[i("div",{style:{height:e.mainHeight+"px"}},[e.isShowTree?i("el-tree",{ref:"tree1",staticStyle:{"background-color":"#f8f8f8"},attrs:{data:e.treeData,props:e.defaultProps,"highlight-current":"","node-key":"id","expand-on-click-node":!1,"auto-expand-parent":!1,"default-expanded-keys":e.treeExpandedIds,"render-content":e.renderContent,"current-node-key":e.defaultCheckedKeys,draggable:"","allow-drag":e.allowDrag,"allow-drop":e.allowDrop},on:{"node-click":e.handleNodeClick,"node-contextmenu":e.contextmenuTree,"node-drop":e.nodeDrop}}):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuTreeVisible,expression:"menuTreeVisible"}],staticClass:"menu-div",attrs:{id:"menuTree"}},[i("el-menu",{attrs:{id:"menuTree1","text-color":"#000"}},[i("el-menu-item",{staticClass:"menuItem",attrs:{index:"1"},on:{click:e.reloadTree}},[i("i",{staticClass:"el-icon-refresh"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("刷新")])]),e._v(" "),"Node"!=e.rightData.modelType?i("el-menu-item",{staticClass:"menuItem",attrs:{index:"2"},on:{click:e.copyNode}},[i("i",{staticClass:"el-icon-document-copy"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("复制")])]):e._e(),e._v(" "),"Node"==e.rightData.modelType?i("el-menu-item",{staticClass:"menuItem",attrs:{index:"99"},on:{click:e.parseNode}},[i("i",{staticClass:"el-icon-tickets"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("粘贴")])]):e._e(),e._v(" "),"Node"!=e.rightData.modelType?i("el-menu-item",{staticClass:"menuItem",attrs:{index:"3"},on:{click:e.removeTree}},[i("i",{staticClass:"el-icon-document-remove"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("删除")])]):e._e(),e._v(" "),"属性"==e.rightData.label?i("el-menu-item",{staticClass:"menuItem",attrs:{index:"4"},on:{click:e.addField}},[i("i",{staticClass:"el-icon-document-add"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("添加属性")])]):e._e(),e._v(" "),"操作"==e.rightData.label?i("el-menu-item",{staticClass:"menuItem",attrs:{index:"5"},on:{click:e.addMethod}},[i("i",{staticClass:"el-icon-document-add"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("添加操作")])]):e._e()],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.menuTableVisible,expression:"menuTableVisible"}],staticClass:"menu-div",attrs:{id:"menuTable"}},[i("el-menu",{attrs:{id:"menuTable1","text-color":"#000"}},[i("el-menu-item",{staticClass:"menuItem",attrs:{index:"2"},on:{click:e.leftEdit}},[i("i",{staticClass:"el-icon-edit-outline"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("修改")])]),e._v(" "),i("el-menu-item",{staticClass:"menuItem",attrs:{index:"3"},on:{click:e.leftSubmit}},[i("i",{staticClass:"el-icon-finished"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("提交")])]),e._v(" "),i("el-menu-item",{staticClass:"menuItem",staticStyle:{color:"red"},attrs:{index:"4"},on:{click:e.removeModel}},[i("i",{staticClass:"el-icon-delete"}),e._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[e._v("删除")])])],1)],1)],1)]),e._v(" "),i("el-aside",{staticStyle:{height:"100%",overflow:"auto"},attrs:{width:"450px"}},[i("div",{style:{height:e.mainHeight+"px"}},[i("LingxProperties",{ref:"lingxProperties",attrs:{lingxHeight:e.mainHeight},on:{updatePropties:e.updateTreeNode}})],1)]),e._v(" "),i("AuthFuncDialog",{ref:"authFuncDialog"}),e._v(" "),i("AuthDataDialog",{ref:"authDataDialog"}),e._v(" "),i("EditorQuerySetting",{ref:"editorQuerySetting"}),e._v(" "),i("PreviewModelDialog",{ref:"previewModelDialog"}),e._v(" "),i("EditorCascadeSetting",{ref:"editorCascadeSetting"}),e._v(" "),i("ConfigSettingDialog",{ref:"configSettingDialog"}),e._v(" "),i("LingxEditDialog",{ref:"lingxEditDialog",on:{change:e.reloadTableData}})],1)],1)},staticRenderFns:[]};var g=i("VU/8")(f,m,!1,function(e){i("fUYg")},"data-v-9486c080",null);t.default=g.exports},fUYg:function(e,t){},qHkp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("V74c"),l=i("+Yga"),o=i("6bbv"),n={name:"PreviewModelDialog",data:function(){return{ecode:"",title:"模型预览",dialogVisible1:!1}},methods:{reloadGrid:function(){this.$refs.lingxGrid.reload()},openDialog:function(e){this.ecode=e,this.dialogVisible1=!0},closeDialog:function(){this.dialogVisible1=!1},openEditDialog:function(e,t){this.$refs.lingxEditDialog.openDialog({title:this.ecode+" - 编辑",ecode:this.ecode,mcode:e.code,id:t})},openViewDialog:function(e){this.$refs.lingxViewDialog.openDialog({title:this.ecode+" - 查看",ecode:this.ecode,id:e.id})}},components:{LingxGrid:a.default,LingxEditDialog:l.default,LingxViewDialog:o.default}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.dialogVisible1?i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.dialogVisible1,width:"720px",height:"480px","show-close":"","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[i("div",{staticStyle:{height:"380px",overflow:"auto"}},[i("LingxGrid",{ref:"lingxGrid",staticStyle:{"background-color":"#fff"},attrs:{ecode:e.ecode,iscontextmenu:!0,isbutton:!0},on:{"open-dialog":e.openEditDialog,dblclick:e.openViewDialog}}),e._v(" "),i("LingxEditDialog",{ref:"lingxEditDialog",on:{change:e.reloadGrid}}),e._v(" "),i("LingxViewDialog",{ref:"lingxViewDialog"})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("关 闭")])],1)]):e._e()},staticRenderFns:[]};var r=i("VU/8")(n,s,!1,function(e){i("arOe")},null,null);t.default=r.exports},tw3b:function(e,t){},"v+f0":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.dialogVisible1?i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"模型功能树",visible:e.dialogVisible1,width:"720px",height:"480px","show-close":"","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[i("div",{staticStyle:{height:"380px",overflow:"auto"}},[i("el-tree",{ref:"tree1",staticStyle:{"background-color":"#dfe9f6"},attrs:{data:e.data,props:e.defaultProps,"default-expand-all":"","show-checkbox":"","node-key":"id","check-on-click-node":"","default-checked-keys":e.checkedKeys},on:{"check-change":e.checkChange}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("关 闭")])],1)]):e._e()},staticRenderFns:[]};var l=i("VU/8")({name:"AuthFuncDialog",props:{},data:function(){return{ecode:"",data:[],checkedKeys:[],dialogVisible1:!1,defaultProps:{children:"children",label:"text",isLeaf:"leaf"}}},methods:{openDialog:function(e){var t=this;this.ecode=e,this.callApi({apicode:9015,code:e},function(e){t.data=e.data,t.checkedKeys=e.checkedKeys}),this.dialogVisible1=!0},closeDialog:function(){this.dialogVisible1=!1},checkChange:function(e,t){var i=this,a=e.id;this.callApi({apicode:9016,ecode:this.ecode,mcode:a,checked:t},function(e){i.lgxInfo(e.message)})}}},a,!1,function(e){i("bOTX")},null,null);t.default=l.exports},wh97:function(e,t){},yASp:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("V74c"),l=i("+Yga"),o={name:"ConfigSettingDialog",data:function(){return{dialogVisible1:!1,ecode:"tlingx_config",ename:"系统参数"}},methods:{show:function(){this.dialogVisible1=!0},closeDialog:function(){this.dialogVisible1=!1},reloadGrid:function(){this.$refs.lingxGrid.reload()},openDialog:function(e,t){this.$refs.lingxEditDialog.openDialog({title:this.ename+" - "+e.name,ecode:this.ecode,mcode:e.code,id:t})}},components:{LingxGrid:a.default,LingxEditDialog:l.default}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"系统参数设置",visible:e.dialogVisible1,width:"720px",height:"480px","show-close":"","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[i("div",{staticStyle:{height:"380px",overflow:"auto","background-color":"#fff"}},[i("LingxGrid",{ref:"lingxGrid",attrs:{ecode:e.ecode,ename:e.ename,iscontextmenu:!0,isoperaterow:!0,isbutton:!0},on:{"open-dialog":e.openDialog}}),e._v(" "),i("LingxEditDialog",{ref:"lingxEditDialog",on:{change:e.reloadGrid}})],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"medium"},on:{click:e.closeDialog}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var s=i("VU/8")(o,n,!1,function(e){i("WmFn")},null,null);t.default=s.exports}});