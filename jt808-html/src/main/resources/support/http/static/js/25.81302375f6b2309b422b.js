webpackJsonp([25],{"8pjy":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{height:"100%"}},[n("el-container",{staticStyle:{height:"100%"}},[n("el-aside",{staticStyle:{padding:"10px"},attrs:{width:"300px"}},[n("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:t.allChecked}},[t._v("全选")]),t._v(" "),n("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:t.fxChecked}},[t._v("反选")]),t._v(" "),n("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:t.allNoChecked}},[t._v("全不选")]),t._v(" "),n("el-button",{attrs:{type:"danger",plain:"",size:"small"},on:{click:t.output}},[t._v("出库")]),t._v(" "),n("ul",[t._l(t.cartnos,function(e,c){return n("li",{staticStyle:{"list-style-type":"demical","line-height":"26px"}},[n("el-checkbox",{on:{change:function(n){return t.checkedChange(e.no,arguments)}},model:{value:e.checked,callback:function(n){t.$set(e,"checked",n)},expression:"item.checked"}},[c%2==1?n("div",{staticStyle:{"background-color":"#f1f1f1"}},[t._v(" "+t._s(e.no))]):t._e(),t._v(" "),c%2==0?n("div",[t._v(" "+t._s(e.no))]):t._e()])],1)}),t._v(" "),0==t.cartnos.length?n("li",{staticStyle:{"list-style-type":"none","line-height":"26px",color:"#AAAAAA"}},[t._v("无数据，请先打包装箱")]):t._e()],2)],1),t._v(" "),n("el-main",{staticStyle:{"background-color":"#e2ece3"}},[n("br"),t._v(" "),n("el-row",{attrs:{gutter:20}},t._l(t.map,function(e,c,a){return n("el-col",{key:a,attrs:{span:6}},[n("div",{staticStyle:{"background-color":"#FFF",color:"#69763d",border:"1px solid #69763d","border-radius":"10px",padding:"20px","margin-bottom":"20px",height:"180px"}},[t._v("\n        箱号："),n("b",[t._v(t._s(c))]),t._v(" "),n("ul",{staticStyle:{padding:"0px"}},t._l(e,function(c,a,o){return n("li",{key:o,staticStyle:{"list-style-type":"none"}},[t._v("\n            "+t._s(a)+" 【"+t._s(e[a])+"】\n          ")])}),0)])])}),1)],1),t._v(" "),n("el-aside",{staticStyle:{padding:"10px"},attrs:{width:"300px"}},[n("div",{staticStyle:{width:"100%","text-align":"center"}},[t._v("\n          总数:"),n("span",{staticStyle:{color:"red"}},[t._v(t._s(t.total))])]),t._v(" "),n("ul",t._l(t.count,function(e,c,a){return n("li",{staticStyle:{"list-style-type":"demical","line-height":"26px"}},[a%2==1?n("div",{key:a,staticStyle:{"background-color":"#f1f1f1"}},[t._v("  "+t._s(c)+" 【"+t._s(e)+"】")]):t._e(),t._v(" "),a%2==0?n("div",{key:a},[t._v("  "+t._s(c)+" 【"+t._s(e)+"】")]):t._e()])}),0)])],1)],1)},staticRenderFns:[]};var a=n("VU/8")({name:"Output",data:function(){return{test:"",input:"",cartnos:[],map:{},count:{},total:0}},methods:{output:function(){var t=this,e="";for(var n in this.map)e=e+n+",";this.lgxInfo("正在生成报表，请稍候..."),t.callApi({apicode:1005,ids:e},function(e){t.lgxInfo(e.message),t.callApi({apicode:1004},function(e){t.cartnos=e.data})})},allChecked:function(){for(var t=this,e=this,n=function(n){e.$set(t.cartnos[n],"checked",!0),e.callApi({apicode:1003,no:e.cartnos[n].no},function(t){e.$set(e.map,e.cartnos[n].no,t.data),e.countTotal()})},c=0;c<this.cartnos.length;c++)n(c)},allNoChecked:function(){for(var t=0;t<this.cartnos.length;t++)this.$set(this.cartnos[t],"checked",!1),delete this.map[this.cartnos[t].no];this.countTotal()},fxChecked:function(){for(var t=this,e=this,n=function(n){e.$set(t.cartnos[n],"checked",!t.cartnos[n].checked),t.cartnos[n].checked?e.callApi({apicode:1003,no:e.cartnos[n].no},function(t){e.$set(e.map,e.cartnos[n].no,t.data),e.countTotal()}):delete e.map[t.cartnos[n].no]},c=0;c<this.cartnos.length;c++)n(c);e.countTotal()},checkedChange:function(t,e){var n=this;e[0]?n.callApi({apicode:1003,no:t},function(e){n.$set(n.map,t,e.data),n.countTotal()}):(delete n.map[t],n.countTotal())},countTotal:function(){for(var t in this.count={},this.total=0,this.map){var e=this.map[t];for(var n in e){this.count[n]||(this.count[n]=0);var c=this.count[n]+e[n];this.total+=e[n],this.$set(this.count,n,c)}}}},created:function(){var t=this;t.callApi({apicode:1004},function(e){t.cartnos=e.data})}},c,!1,function(t){n("wjJw")},null,null);e.default=a.exports},wjJw:function(t,e){}});