webpackJsonp([73],{M7NE:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i("mvHQ"),n=i.n(l),s={name:"LingxEditorCascadeSetting",data:function(){return{ecode:"",id:"",prop:"",cindex:0,querys:[{name:"用户管理_示例",entity:"tlingx_user",method:"grid_cascade",rule:"tlingx_userorg"}],dialogVisible:!1,form:{}}},methods:{openDialog:function(e){this.ecode=e.ecode,this.id=e.id,this.prop=e.prop,e.value&&"["==e.value.charAt(0)&&(this.querys=JSON.parse(e.value)),this.form=this.querys[this.cindex],this.dialogVisible=!0},dialogSubmit:function(){var e=this,t=n()(this.querys);this.callApi({apicode:9008,code:this.ecode,id:this.id,prop:this.prop,value:t},function(t){e.lgxInfo(t.message),1==t.code&&(e.dialogVisible=!1)})},removeField:function(e){this.querys.splice(e,1),this.setIndex(0)},setIndex:function(e){this.cindex=e,this.form=this.querys[e]},addField:function(){this.querys.push({name:"用户管理_示例",entity:"tlingx_user",method:"grid_cascade",rule:"tlingx_userorg"}),this.form=this.querys[this.querys.length-1]},swapItems:function(e){var t=e-1;if(!(t<0)){var i=this.querys;i[e]=i.splice(t,1,i[e])[0]}}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"级联设置",visible:e.dialogVisible,width:"720px",height:"480px","close-on-click-modal":!1,"show-close":!0,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",{staticStyle:{height:"420px",overflow:"auto"}},[i("el-row",[i("el-col",{staticStyle:{padding:"0p"},attrs:{span:8}},[i("ul",[e._l(e.querys,function(t,l){return i("li",{staticStyle:{"list-style-type":"none",height:"42px","line-height":"42px"}},[i("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"success",underline:!1},on:{click:function(t){return e.swapItems(l)}}},[e._v("上移")]),e._v(" "),e.cindex!=l?i("el-button",{staticStyle:{width:"140px"},attrs:{size:"small"},on:{click:function(t){return e.setIndex(l)}}},[e._v(e._s(l+1)+". "+e._s(t.name))]):e._e(),e._v(" "),e.cindex==l?i("el-button",{staticStyle:{width:"140px"},attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){return e.setIndex(l)}}},[e._v(e._s(l+1)+". "+e._s(t.name))]):e._e(),e._v(" "),i("el-link",{staticStyle:{"font-size":"12px"},attrs:{type:"danger",underline:!1},on:{click:function(t){return e.removeField(l)}}},[e._v("删除")])],1)}),e._v(" "),i("li",{staticStyle:{"list-style-type":"none",height:"42px","line-height":"42px","text-align":"center"}},[i("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.addField}},[e._v("添加级联")])],1)],2)]),e._v(" "),i("el-col",{staticStyle:{padding:"10px"},attrs:{span:16}},[i("el-form",{ref:"form",attrs:{size:"small",model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"显示名称"}},[i("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模型代码"}},[i("el-input",{model:{value:e.form.entity,callback:function(t){e.$set(e.form,"entity",t)},expression:"form.entity"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"操作代码"}},[i("el-input",{model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"级联中介"}},[i("el-input",{model:{value:e.form.rule,callback:function(t){e.$set(e.form,"rule",t)},expression:"form.rule"}})],1)],1),e._v(" "),i("div",{staticStyle:{"font-size":"14px",color:"#999","line-height":"28px"}},[e._v("\n  说明："),i("br"),e._v("\n  一级级级不需要填级联中介。级联中介不会显示在界面上"),i("br"),e._v("\n  操作代码一般填写grid或grid_cascade\n\n\n")])],1)],1)],1),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.dialogSubmit}},[e._v("提 交")]),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("关 闭")])],1)])},staticRenderFns:[]};var r=i("VU/8")(s,o,!1,function(e){i("tw3b")},null,null);t.default=r.exports},tw3b:function(e,t){}});